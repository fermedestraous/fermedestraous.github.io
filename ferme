<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ferme d'Estraous - Bio</title>

    <meta name="description" content="Ferme d'Estraous - Viande bio, vente directe √† la ferme et march√©s locaux en Haute-Garonne.">

    <link rel="stylesheet" href="style.css">

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>

<header>
    <div class="top-bar">
        <div class="top-right">
 <a href="https://coopcircuits.fr/gaec-ramounas-les-estraous/shop" class="boutique-btn">Boutique en ligne</a>

            <button class="menu-btn">Menu ‚ò∞</button>

            <div class="dropdown-menu">
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="ferme.html">Notre Ferme</a></li>
                    <li><a href="pratiques.html">Nos Pratiques</a></li>
                    <li><a href="animaux.html">Nos Animaux</a></li>
                    <li><a href="produits.html">Nos Produits</a></li>
                    <li><a href="trouver.html">Nous Trouver</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="banner">
        <img src="Photos/bandeau haut/panorama.jpeg" alt="Panorama Ferme d'Estraous">
        <h1>Ferme d'Estraous</h1>
    </div>
</header>

<main class="container">

    <section class="intro">
        <span class="badge">Agriculture Biologique</span>
        <p id="txt-introduction">Chargement des infos...</p>
        <img src="Photos/bio/certifi√©_AB.jpg" alt="Logo Bio" class="bio-logo">
    </section>

    <section class="products">
        <h2>Nos Produits</h2>
        <div class="grid">
            <div class="card">
                <h3>ü•© Prochain colis de viande</h3>
                <p id="txt-prochain-colis">V√©rification...</p>
            </div>
        </div>

        <div class="cta-container">
            <a href="LIEN_VERS_TA_PAGE_COMMANDE" class="btn">Commander mes produits</a>
        </div>
    </section>

    <section class="markets">
        <h2>Retrouvez-nous sur les march√©s</h2>
        <ul>
            <li><strong>Lundi :</strong> Salies-du-Salat</li>
            <li><strong>Samedi :</strong> Caz√®res ou Aspet (en alternance)</li>
            <li><strong>Occasionnellement le Mercredi :</strong> Boulogne-sur-Gesse ou Aspet</li>
        </ul>
    </section>

    <section class="contact">
        <h2>Nous contacter</h2>
        <form action="https://formspree.io/f/VOTRE_ID" method="POST">
            <input type="text" name="name" placeholder="Votre nom" required>
            <input type="email" name="email" placeholder="Votre email" required>
            <textarea name="message" placeholder="Votre message"></textarea>
            <button type="submit" class="btn">Envoyer</button>
        </form>
    </section>

</main>

<!-- Script menu d√©plac√© ici -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const menuBtn = document.querySelector('.menu-btn');
    const dropdownMenu = document.querySelector('.dropdown-menu');

    menuBtn.addEventListener('click', () => {
        dropdownMenu.classList.toggle('active');
    });

    document.addEventListener('click', (event) => {
        if (!menuBtn.contains(event.target) && !dropdownMenu.contains(event.target)) {
            dropdownMenu.classList.remove('active');
        }
    });
});
</script>

<!-- Script Google Sheets -->
<script>
const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTB3Jt4kUljHwTgUbPsbVGGD0gC79-hA50OVEz2wfTbX-TX6LBxyBkJ3mCK-SPe8UFXgkzFLp9_VBxE/pub?output=csv';

async function loadData() {
    try {
        const response = await fetch(sheetUrl);
        const data = await response.text();

        const rows = data.split(/\r?\n/);

        rows.forEach((row, index) => {
            if (index === 0) return;

            const match = row.match(/^"?([^",]+)"?,?(.+)$/);

            if (match) {
                const key = match[1].trim().toLowerCase().replace(/_/g, '-');
                let value = match[2].trim();

                value = value.replace(/^"|"$/g, '').replace(/""/g, '"');

                const elementId = `txt-${key}`;
                const el = document.getElementById(elementId);

                if (el) {
                    el.innerText = value;
                }
            }
        });

    } catch (e) {
        console.error("Erreur de chargement :", e);
    }
}

loadData();
</script>

</body>
</html>
